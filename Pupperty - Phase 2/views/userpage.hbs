<html>
	<head>
		<title>User Account Details</title>
		<link rel = "stylesheet" type = "text/css" href = "../css/userstyles.css">
		<script type="text/javascript">
			function confirmWindow(){
				if(confirm("Are you sure you want to delete your account?")){
					window.open("http://localhost:3000/deleteuser", "_self");
				}
			}
		</script>
	</head>

	<body>
		{{> navbar}}

		<div id = userdetails>
			<div id = usercontainer1>
				<div id = useravatar style = "background-image: url(uploads/{{u.path}});"></div>
				<div id = usertextcontainer>
					<div id = username>{{u.name}}</div>
					<div id = bio>{{u.bio}}</div>
					<div id = detailscontainer>
						<img src = "images/gps.png" class = detaillogos>
						<div style = "width: 200px; text-align: left">{{u.address}}</div>
					</div>
					<div id = detailscontainer>
						<img src = "images/phone.png" class = detaillogos>
						<div style = "width: 200px; text-align: left">{{u.contact}}</div>
					</div>
					<div id = detailscontainer>
						<img src = "images/email.png" class = detaillogos>
						<div style = "width: 200px; text-align: left"><a href = "https://mail.google.com/mail/u/0/#inbox?compose=new">{{u.email}}</a></div>
					</div>
					<div id = detailscontainer>
						<img src = "images/peso.png" class = detaillogos>
						<div style = "width: 200px; text-align: left">{{u.salary}}/month</div>
					</div>
					<div id = detailscontainer style = "padding-top: 50px; padding-bottom: 10px; margin: auto;">Status: {{u.status}}</div>
					<div id = detailscontainer style = "height: 190px; background-image: url(uploads/{{u.certificate}}); background-size: cover; background-position: center; margin: auto;"></div>
					<div id = detailscontainer>
						<form action = "/submitcertificate" method = "post" enctype="multipart/form-data">
							<input type="file" name="image" accept="image/*"><br><br>
							<input type="submit" id = "submit" name = "savechanges" value="Submit Certificate">
						</form>
					</div>
					<div style = "display: flex; justify-content: space-around; padding-bottom: 20px;">
						<a href = "/edituser"><div id = detailscontainer><button style = "font-size: 15px">Edit Account</button></div></a>
						<div id = detailscontainer><a href = "/"><button style = "font-size: 15px;">Log Out</button></a></div>
						<div id = detailscontainer><!-- <a href = "/deleteuser"> --><button onclick = "confirmWindow()" style = "font-size: 15px; background-color: #c40808;">Delete Account</button><!-- </a> --></div>
					</div>
					
				</div>
			</div>

			<div>
				<div id = userinfo  style = "background-color: #f1ce76; padding-top: 30px; padding-bottom: 15px;" >
					<div style = "display: flex; justify-content: center; height: 120px;">
						<img src = "images/doghouse.png" style = "height: 100px;">
						<div id = prevdogstitle> Homegiver To:</div>
					</div>
					<div id = prevdogscontainer>
						{{#each u.adopts}}
							<a href = "/adoption">
								<div id = prevdogbox style = "background-color: rgb(183, 220, 244, 0.8);">
									<div style = "background-size: cover; background-position: center; background-image: url(uploads/{{this.path}});" id = prevdogpic></div>
									<div id = prevdogname style = "background-image: url(images/bone.png); position: relative; top: 30px;">{{this.name}}</div>
								</div>
							</a>
						{{/each}}
					</div>
				</div>
				<div id = userinfo style = "position: relative; top: 30px; background-color: #c54b6c;">
					<div style = "display: flex; justify-content: center;">
						<img src = "images/rescue.png" style = "height: 150px;">
						<div id = prevdogstitle style = "padding-top: 50px; text-shadow: 2px 2px 0px #000000;">Dogs Up for Adoption:</div>
					</div>

					<div id = prevdogscontainer>
						{{#each u.posts}}
							<a href = "/adoption">
								<div id = prevdogbox style = "background-color: rgb(183, 220, 244, 0.8);">
									<div style = "background-image: url(uploads/{{this.path}}); background-size: cover; background-position: center;" id = prevdogpic></div>
									<div style = "position: relative; top: 30px;">
										<div id = prevdogname style = "background-image: url(images/bone.png);">{{this.name}}</div>
										<div id = prevdogbuttons>
											<a href = "/FAQ"><div><button>View Post</button></div></a>
											<a href = "/editquestion"><div style = "position: relative; left: 20px;" name = "{{this.questionid}}"><button>Edit Post</button></div></a>
											<a href = "/deletepost" method = "delete"><div style = "position: relative; left: 40px;"><button style = "background-color: #c40808;">Delete Post</button></div></a>
										</div>
									</div>
								</div>
							</a>
						{{/each}}
					</div>
				</div>
			</div>
		</div>

		<div id = userquestions>
			<br><br><br>
			<div style = "display: flex; justify-content: center; background-color: #a1cdce;">
				<div><img src = "images/questions.png" style = "height: 150px; width: 200px;"></div>
				<div id = questionstitle>Submitted Questions: </div>
			</div>
			<div style = "background-color: #FBECDB; padding: 50px;">
				<div class = questioncontainer>
					{{#each u.questions}}
						<div class = questionusercontainer>
							<div class = questionpic style = "background-image: url(uploads/{{../u.path}}); background-size: cover; background-position: center;"></div>
							<div class = questionuserdetails>
								<div style = "padding: 10px;">
										<div class = qusername><a href = "/userpage">{{this.name}}</a></div>
									<div class = qusertext>
										<div>
											<div class = qadoptions>{{../u.adoptcount}} Adoptions</div>
											<div class = qrescues>{{../u.questions.length}} Posts</div>
										</div>
										<div><img src = "images/greencheck.png" style = "height: 30px; width: 40px; position: relative; top: 3px;"></div>
									</div>
								</div>
								<div class = questiontext>
									{{this.title}}
								</div>
							</div>
						</div>
						<div style = "display: flex;">
							<a href = "/FAQ"><div style = "margin-top: 20px;"><button>View Post</button></div></a>
							<a href = "/editquestion"><div style = "margin-top: 20px; position: relative; left: 20px;"><button name = "{{this.questionid}}">Edit Post</button></div></a>
						</div>
						<br><br><br>
					{{/each}}
			</div>
		</div>
	</body>
</html>